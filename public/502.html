<!DOCTYPE html>
<meta charset="utf-8" />
<title>Service Unavailable - Aurora</title>
<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>
<style>
  html, body {
    height: 100%;
  }
  body {
    display: flex;
    font-family: "Source Sans Pro" sans-serif;
    background: #ddd;
    margin: 0;
    padding: 0;
  }
  main {
    display: flex;
    flex-direction: column;
    padding: 0 2em 0;
    max-width: 50em;
    margin: 0 auto;
    background: #fff;
    box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 5px;
  }
  div {
    display: flex;
    flex-direction: column;
  }
  p {
    margin: 1rem 0;
    font-size: 2em;
  }
</style>
<main>
  <div style='flex-grow: 1'>
    <div style='flex-grow: 1'></div>
    <p>
      Sorry, but Aurora is unavailable at the moment.
    <p>
      This situation is usually temporary.
    <p id='lie'>
      When it's back up, this page will reload.
  </div>
  <div style='flex-grow: 1.618'>
    <p>
      &nbsp;
  </div>
</main>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript">
  var check = function(){
    $.ajax({
      url: "/",
      success: function() {
        document.location.reload(false)
      },
      statusCode: {
        502: function() {
          window.setTimeout(check, 500)
        }
      }
    })
  }
  $(document).ready(function() {
    if (!window.location.pathname.match(/^\/502(\.html)?$/)) {
      check()
    } else {
      $("#lie").text("You're viewing this directly, so I won't reload.")
    }
  })
</script>
